<div class="row">
    <h3 class="card-title align-items-start flex-column" style="text-align: center">
        <span class="card-label fw-bold fs-3 mb-1">REALISASI KONTRAK TERHADAP SKKI</span>
    </h3>
    <div class="col-xl-3 mb-xl-10">
        <div class="card card-flush h-xl-100">
            <div class="card-header pt-2" style="text-align: center">
                <h4 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold">TOTAL SKKI</span>
                </h4>
            </div>
            <div class="card-body mx-auto" style="text-align: center;">
                <div id="kt_apexcharts_total"></div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 mb-xl-10">
        <div class="card card-flush h-xl-100">
            <div class="card-header pt-2" style="text-align: center">
                <h4 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold text-gray-800">SKKI B1</span>
                </h4>
            </div>
            <div class="card-body mx-auto">
                <div id="kt_apexcharts_b1"></div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 mb-xl-10">
        <div class="card card-flush h-xl-100">
            <div class="card-header pt-2" style="text-align: center">
                <h4 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold text-gray-800">SKKI B2</span>
                </h4>
            </div>
            <div class="card-body mx-auto">
                <div id="kt_apexcharts_b2"></div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 mb-xl-10">
        <div class="card card-flush h-xl-100">
            <div class="card-header pt-2" style="text-align: center">
                <h4 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold text-gray-800">SKKI B3</span>
                </h4>
            </div>
            <div class="card-body mx-auto">
                <div id="kt_apexcharts_b3"></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <h3 class="card-title align-items-start flex-column" style="text-align: center">
        <span class="card-label fw-bold fs-3 mb-1">REALISASI BAYAR TERHADAP REALISASI KONTRAK</span>
    </h3>
    <div class="col-xl-3 mb-xl-10">
        <div class="card card-flush h-xl-100">
            <div class="card-header pt-2" style="text-align: center">
                <h4 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold">TOTAL REALISASI</span>
                </h4>
            </div>
            <div class="card-body mx-auto">
                <div id="kt_apexcharts_realisasi_total"></div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 mb-xl-10">
        <div class="card card-flush h-xl-100">
            <div class="card-header pt-2" style="text-align: center">
                <h4 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold text-gray-800">REALISASI B1</span>
                </h4>
            </div>
            <div class="card-body mx-auto">
                <div id="kt_apexcharts_realisasi_b1"></div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 mb-xl-10">
        <div class="card card-flush h-xl-100">
            <div class="card-header pt-2" style="text-align: center">
                <h4 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold text-gray-800">REALISASI B2</span>
                </h4>
            </div>
            <div class="card-body mx-auto">
                <div id="kt_apexcharts_realisasi_b2"></div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 mb-xl-10">
        <div class="card card-flush h-xl-100">
            <div class="card-header pt-2" style="text-align: center">
                <h4 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold text-gray-800">REALISASI B3</span>
                </h4>
            </div>
            <div class="card-body mx-auto">
                <div id="kt_apexcharts_realisasi_b3"></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col">
        <div class="card mb-5 mb-xl-8" style="text-align: center">
            <div class="card-header border-0 pt-5" style="text-align: center">
                <h3 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold fs-3 mb-1">REKAP PENYERAPAN ANGGARAN SKKI MURNI BIDANG LOGISTIK</span>
                </h3>
            </div>
            <div class="card-body pt-3">
                <div class="row">
                    <div class="table-responsive">
                        <table id="kt_datatable_fixed_header" class="table align-middle table-bordered table-hover table-striped table-row-bordered" style="white-space: nowrap;">
                            <thead style="background-color: #008B8B;">
                                <tr>
                                    <th rowspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> JENIS </th>
                                    <th rowspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> SKKI </th>
                                    <th rowspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> NOMOR SKKI </th>
                                    <th rowspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TANGGAL </th>
                                    <th colspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> PENETAPAN SKKI </th>
                                    <th colspan="7" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> PENYERAPAN SKKI </th>
                                </tr>
                                <tr>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> SKKI <br/> (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> AKI <br/> (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TERKONTRAK <br/> (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TERKONTRAK <br/> (%) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> BELUM <br/> TERKONTRAK (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> REALISASI <br/> TERBAYAR (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TERBAYAR <br/> AKI (%) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TERBAYAR <br/> KONTRAK (%) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> BELUM <br/> TERBAYAR (Rp) </th>
                                </tr>
                            </thead>
                            <tbody>
                                <?php
                                    $totalskki = 0;
                                    $total_aki = 0;
                                    $totalkontrak = 0;
                                    $totalrealisasi = 0;
                                    $totalsisa = 0;
                                    $totalbelumbayar = 0;
                                    foreach ($data as $d) {
                                        if(html_escape($d->jenis) == "M") { ?>
                                            <tr>
                                                <td style="font-size: 14px"> MURNI </td>
                                                <td style="font-size: 14px"><?= html_escape($d->basket); ?></td>
                                                <td style="font-size: 14px"><?= html_escape($d->no_skki); ?></td>
                                                <td style="text-align: center; font-size: 14px"><?= html_escape($d->tanggal); ?></td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalskki += html_escape($d->total_skki);
                                                        echo number_format(html_escape($d->total_skki), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $total_aki += html_escape($d->nilai_aki);
                                                        echo number_format(html_escape($d->nilai_aki), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalkontrak += html_escape($d->nilai_kontrak);
                                                        echo number_format(html_escape($d->nilai_kontrak), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        if(html_escape($d->total_skki) != 0){
                                                            echo number_format((html_escape($d->nilai_kontrak) / html_escape($d->total_skki)) * 100, 2, ",", ".") . "%";
                                                        } else {
                                                            echo "0";
                                                        }
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalsisa += (html_escape($d->total_skki) - html_escape($d->nilai_kontrak));
                                                        echo number_format((html_escape($d->total_skki) - html_escape($d->nilai_kontrak)), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalrealisasi += html_escape($d->nilai_realisasi);
                                                        echo number_format(html_escape($d->nilai_realisasi), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        if(html_escape($d->nilai_aki) != 0){
                                                            echo number_format((html_escape($d->nilai_realisasi) / html_escape($d->nilai_aki)) * 100, 2, ",", ".") . "%";
                                                        } else {
                                                            echo "0";
                                                        }
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        if(html_escape($d->nilai_kontrak) != 0){
                                                            echo number_format((html_escape($d->nilai_realisasi) / html_escape($d->nilai_kontrak)) * 100, 2, ",", ".") . "%";
                                                        } else {
                                                            echo "0";
                                                        }
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalbelumbayar += (html_escape($d->nilai_kontrak) - html_escape($d->nilai_realisasi));
                                                        echo number_format(html_escape($d->nilai_kontrak) - html_escape($d->nilai_realisasi), 0, ",", ".");
                                                    ?>
                                                </td>
                                            </tr>
                                <?php   }
                                    } ?>
                            </tbody>
                            <tfoot>
                                <tr style="background-color: #008B8B;">
                                    <td style="text-align: center; vertical-align: middle; color: white; font-weight: bold; font-size: 14px" colspan="4">TOTAL</td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalskki, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($total_aki, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalkontrak, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px">
                                        <?= $totalskki != 0 ? number_format(($totalkontrak / $totalskki) * 100, 2, ",", ".") . "%" : "0%"; ?>
                                    </td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalsisa, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalrealisasi, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px">
                                        <?= $total_aki != 0 ? number_format(($totalrealisasi / $total_aki) * 100, 2, ",", ".") . "%" : "0"; ?>
                                    </td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px">
                                        <?= $totalkontrak != 0 ? number_format(($totalrealisasi / $totalkontrak) * 100, 2, ",", ".") . "%" : "0"; ?>
                                    </td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalbelumbayar, 0, ",", "."); ?></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col">
        <div class="card mb-5 mb-xl-8" style="text-align: center">
            <div class="card-header border-0 pt-5" style="text-align: center">
                <h3 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold fs-3 mb-1">REKAP PENYERAPAN ANGGARAN SKKI LUNCURAN BIDANG LOGISTIK</span>
                </h3>
            </div>
            <div class="card-body pt-3">
                <div class="row">
                    <div class="table-responsive">
                        <table id="kt_datatable_fixed_header" class="table align-middle table-bordered table-hover table-striped table-row-bordered" style="white-space: nowrap;">
                            <thead style="background-color: #008B8B;">
                                <tr>
                                    <th rowspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> JENIS </th>
                                    <th rowspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> SKKI </th>
                                    <th rowspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> NOMOR SKKI </th>
                                    <th rowspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TANGGAL </th>
                                    <th colspan="2" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> PENETAPAN SKKI </th>
                                    <th colspan="7" style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> PENYERAPAN SKKI </th>
                                </tr>
                                <tr>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> SKKI <br/> (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> AKI <br/> (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TERKONTRAK <br/> (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TERKONTRAK <br/> (%) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> BELUM <br/> TERKONTRAK (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> REALISASI <br/> TERBAYAR (Rp) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TERBAYAR <br/> AKI (%) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> TERBAYAR <br/> KONTRAK (%) </th>
                                    <th style="text-align: center; vertical-align: middle; color:white; font-size:14px;"> BELUM <br/> TERBAYAR (Rp) </th>
                                </tr>
                            </thead>
                            <tbody>
                                <?php
                                    $totalskki = 0;
                                    $total_aki = 0;
                                    $totalkontrak = 0;
                                    $totalrealisasi = 0;
                                    $totalsisa = 0;
                                    $totalbelumbayar = 0;
                                    foreach ($data as $d) {
                                        if(html_escape($d->jenis) == "L") { ?>
                                            <tr>
                                                <td style="font-size: 14px"> LUNCURAN </td>
                                                <td style="font-size: 14px"><?= html_escape($d->basket); ?></td>
                                                <td style="font-size: 14px"><?= html_escape($d->no_skki); ?></td>
                                                <td style="text-align: center; font-size: 14px"><?= html_escape($d->tanggal); ?></td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalskki += html_escape($d->total_skki);
                                                        echo number_format(html_escape($d->total_skki), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $total_aki += html_escape($d->nilai_aki);
                                                        echo number_format(html_escape($d->nilai_aki), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalkontrak += html_escape($d->nilai_kontrak);
                                                        echo number_format(html_escape($d->nilai_kontrak), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        if(html_escape($d->total_skki) != 0){
                                                            echo number_format((html_escape($d->nilai_kontrak) / html_escape($d->total_skki)) * 100, 2, ",", ".") . "%";
                                                        } else {
                                                            echo "0";
                                                        }
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalsisa += (html_escape($d->total_skki) - html_escape($d->nilai_kontrak));
                                                        echo number_format((html_escape($d->total_skki) - html_escape($d->nilai_kontrak)), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalrealisasi += html_escape($d->nilai_realisasi);
                                                        echo number_format(html_escape($d->nilai_realisasi), 0, ",", ".");
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        if(html_escape($d->nilai_aki) != 0){
                                                            echo number_format((html_escape($d->nilai_realisasi) / html_escape($d->nilai_aki)) * 100, 2, ",", ".") . "%";
                                                        } else {
                                                            echo "0";
                                                        }
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        if(html_escape($d->nilai_kontrak) != 0){
                                                            echo number_format((html_escape($d->nilai_realisasi) / html_escape($d->nilai_kontrak)) * 100, 2, ",", ".") . "%";
                                                        } else {
                                                            echo "0";
                                                        }
                                                    ?>
                                                </td>
                                                <td style="text-align: right; font-size: 14px">
                                                    <?php
                                                        $totalbelumbayar += (html_escape($d->nilai_kontrak) - html_escape($d->nilai_realisasi));
                                                        echo number_format(html_escape($d->nilai_kontrak) - html_escape($d->nilai_realisasi), 0, ",", ".");
                                                    ?>
                                                </td>
                                            </tr>
                                <?php   }
                                    } ?>
                            </tbody>
                            <tfoot>
                                <tr style="background-color: #008B8B;">
                                    <td style="text-align: center; vertical-align: middle; color: white; font-weight: bold; font-size: 14px" colspan="4">TOTAL</td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalskki, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($total_aki, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalkontrak, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px">
                                        <?= $totalskki != 0 ? number_format(($totalkontrak / $totalskki) * 100, 2, ",", ".") . "%" : "0%"; ?>
                                    </td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalsisa, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalrealisasi, 0, ",", "."); ?></td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px">
                                        <?= $total_aki != 0 ? number_format(($totalrealisasi / $total_aki) * 100, 2, ",", ".") . "%" : "0"; ?>
                                    </td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px">
                                        <?= $totalkontrak != 0 ? number_format(($totalrealisasi / $totalkontrak) * 100, 2, ",", ".") . "%" : "0"; ?>
                                    </td>
                                    <td style="text-align: right; vertical-align: middle; color: white; font-weight: bold; font-size: 14px"><?= number_format($totalbelumbayar, 0, ",", "."); ?></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        calcTotal();
        calcB1();
        calcB2();
        calcB3();
        calcRealisasiTotal();
        calcRealisasiB1();
        calcRealisasiB2();
        calcRealisasiB3();
    });

    function calcTotal(){
        var nilai = <?php echo intval(html_escape($data[0]->total_skki) + html_escape($data[1]->total_skki) + html_escape($data[2]->total_skki)); ?>;
        var realisasi = <?php echo intval(html_escape($data[0]->nilai_kontrak) + html_escape($data[1]->nilai_kontrak) + html_escape($data[2]->nilai_kontrak)); ?>;
        var options = {
            series: [(nilai - realisasi), realisasi],
            chart: {
                width: 300,
                type: 'pie',
            },
            labels: ['Sisa SKKI', 'Realisasi Kontrak'],
            legend: {
                position: 'bottom',
                horizontalAlign: 'center'
            },
            responsive: [{
                breakpoint: 300,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom',
                        horizontalAlign: 'center'
                    }
                }
            }]
        };

        var chart_total = new ApexCharts(document.querySelector("#kt_apexcharts_total"), options);

        chart_total.render();
    }

    function calcB1(){
        var options = {
            series: [<?php echo intval(html_escape($data[0]->total_skki) - html_escape($data[0]->nilai_kontrak)); ?>, <?php echo intval(html_escape($data[0]->nilai_kontrak)); ?>],
            chart: {
                width: 300,
                type: 'pie',
            },
            labels: ['Sisa SKKI', 'Realisasi Kontrak'],
            legend: {
                position: 'bottom',
                horizontalAlign: 'center'
            },
            responsive: [{
                breakpoint: 300,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        show: true,
                        position: 'bottom',
                        horizontalAlign: 'center'
                    }
                }
            }]
        };

        var chart_b1 = new ApexCharts(document.querySelector("#kt_apexcharts_b1"), options);

        chart_b1.render();
    }

    function calcB2(){
        var options = {
            series: [<?php echo intval(html_escape($data[1]->total_skki) - html_escape($data[1]->nilai_kontrak)); ?>, <?php echo intval(html_escape($data[1]->nilai_kontrak)); ?>],
            chart: {
                width: 300,
                type: 'pie',
            },
            labels: ['Sisa SKKI', 'Realisasi Kontrak'],
            legend: {
                position: 'bottom',
                horizontalAlign: 'center'
            },
            responsive: [{
                breakpoint: 300,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom',
                        horizontalAlign: 'center'
                    }
                }
            }]
        };

        var chart_b2 = new ApexCharts(document.querySelector("#kt_apexcharts_b2"), options);

        chart_b2.render();
    }

    function calcB3(){
        var options = {
            series: [<?php echo intval(html_escape($data[2]->total_skki) - html_escape($data[2]->nilai_kontrak)); ?>, <?php echo intval(html_escape($data[2]->nilai_kontrak)); ?>],
            chart: {
                width: 300,
                type: 'pie',
            },
            labels: ['Sisa SKKI', 'Realisasi Kontrak'],
            legend: {
                position: 'bottom',
                horizontalAlign: 'center',
            },
            responsive: [{
                breakpoint: 300,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom',
                        horizontalAlign: 'center'
                    }
                }
            }]
        };

        var chart_b3 = new ApexCharts(document.querySelector("#kt_apexcharts_b3"), options);

        chart_b3.render();
    }

    function calcRealisasiTotal(){
        var kontrak = <?php echo intval(html_escape($data[0]->nilai_kontrak) + html_escape($data[1]->nilai_kontrak) + html_escape($data[2]->nilai_kontrak)); ?>;
        var realisasi = <?php echo intval(html_escape($data[0]->nilai_realisasi) + html_escape($data[1]->nilai_realisasi) + html_escape($data[2]->nilai_realisasi)); ?>;
        var options = {
            series: [(kontrak - realisasi), realisasi],
            chart: {
                width: 300,
                type: 'pie',
            },
            labels: ['Realisasi Kontrak', 'Realisasi Bayar'],
            legend: {
                position: 'bottom',
                horizontalAlign: 'center'
            },
            responsive: [{
                breakpoint: 300,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom',
                        horizontalAlign: 'center'
                    }
                }
            }]
        };

        var chart_total = new ApexCharts(document.querySelector("#kt_apexcharts_realisasi_total"), options);

        chart_total.render();
    }

    function calcRealisasiB1(){
        var options = {
            series: [<?php echo intval(html_escape($data[0]->nilai_kontrak) - html_escape($data[0]->nilai_realisasi)); ?>, <?php echo intval(html_escape($data[0]->nilai_realisasi)); ?>],
            chart: {
                width: 300,
                type: 'pie',
            },
            labels: ['Realisasi Kontrak', 'Realisasi Bayar'],
            legend: {
                position: 'bottom',
                horizontalAlign: 'center'
            },
            responsive: [{
                breakpoint: 300,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        show: true,
                        position: 'bottom',
                        horizontalAlign: 'center'
                    }
                }
            }]
        };

        var chart_b1 = new ApexCharts(document.querySelector("#kt_apexcharts_realisasi_b1"), options);

        chart_b1.render();
    }

    function calcRealisasiB2(){
        var options = {
            series: [<?php echo intval(html_escape($data[1]->nilai_kontrak) - html_escape($data[1]->nilai_realisasi)); ?>, <?php echo intval(html_escape($data[1]->nilai_realisasi)); ?>],
            chart: {
                width: 300,
                type: 'pie',
            },
            labels: ['Realisasi Kontrak', 'Realisasi Bayar'],
            legend: {
                position: 'bottom',
                horizontalAlign: 'center'
            },
            responsive: [{
                breakpoint: 300,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom',
                        horizontalAlign: 'center'
                    }
                }
            }]
        };

        var chart_b2 = new ApexCharts(document.querySelector("#kt_apexcharts_realisasi_b2"), options);

        chart_b2.render();
    }

    function calcRealisasiB3(){
        var options = {
            series: [<?php echo intval(html_escape($data[2]->nilai_kontrak) - html_escape($data[2]->nilai_realisasi)); ?>, <?php echo intval(html_escape($data[2]->nilai_realisasi)); ?>],
            chart: {
                width: 300,
                type: 'pie',
            },
            labels: ['Realisasi Kontrak', 'Realisasi Bayar'],
            legend: {
                position: 'bottom',
                horizontalAlign: 'center',
            },
            responsive: [{
                breakpoint: 300,
                options: {
                    chart: {
                        width: 200
                    },
                    legend: {
                        position: 'bottom',
                        horizontalAlign: 'center'
                    }
                }
            }]
        };

        var chart_b3 = new ApexCharts(document.querySelector("#kt_apexcharts_realisasi_b3"), options);

        chart_b3.render();
    }
</script>